<canvas id="ctx" width="500" height="500" style="border:1px solid #000000;"></canvas>
<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
<script>
    var ctx = document.getElementById("ctx").getContext("2d");
    
    var socket = io();

    socket.on('newPosition', function(data) {
        ctx.clearRect(0,0,500,500);
        for(var i=0; i<data.length; i++) {
            ctx.fillText('P', data[i].x, data[i].y);
        }
    })

    document.addEventListener('keydown', function(e) {
        if(e.keyCode === 37) {
            socket.emit('move', {'directory': 'left'})
        } else if(e.keyCode === 39) {
            socket.emit('move', {'directory': 'right'})
        }
    })
</script>